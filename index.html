<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>사과 먹기</title>
    <style>
        body {
            text-align: center;
        }
        #game-canvas {
            border: 2px solid black;
        }
    </style>
</head>
<body>

    <canvas id="game-canvas" width="400" height="400"></canvas>

    <script>
        // 캔버스 엘리먼트 가져오기
        const canvas = document.getElementById("game-canvas");
        const ctx = canvas.getContext("2d");

        // 객체 초기 위치
        let enemy_x = canvas.width / 2;
        let enemy_y = canvas.height / 2;

        let playerX = canvas.width / 2;
        let playerY = canvas.height / 6;

        // 공 속도 및 방향
        let dx = 2;
        let dy = 2;

        // 공 반지름
        const ballRadius = 10;

        // AttackBall 함수
        function AttackBall() {
            // 캔버스 지우기
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // 적 공 그리기
            drawBall(enemy_x, enemy_y, "#0095DD", ballRadius);

            // 공 이동
            enemy_x += dx;

            // 화면 경계 충돌 검사
            if (enemy_x + dx > canvas.width - ballRadius || enemy_x + dx < ballRadius) {
                dx = -dx;
            }

            // 플레이어 공 그리기
            drawBall(playerX, playerY, "#8125AE", ballRadius * 2);

            requestAnimationFrame(AttackBall);
        }

        // 공 그리기 함수
        function drawBall(x, y, color, radius) {
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, Math.PI * 2);
            ctx.fillStyle = color;
            ctx.fill();
            ctx.closePath();
        }

        // 방향키 입력 감지
        document.addEventListener("keydown", function(event) {
            const key = event.key;

            // 방향키에 따라 플레이어 이동
            switch (key) {
                case "ArrowLeft":
                    if (playerX - 2 > ballRadius) {
                        playerX -= 2;
                    }
                    break;
                case "ArrowRight":
                    if (playerX + 2 < canvas.width - ballRadius * 2) {
                        playerX += 2;
                    }
                    break;
                case "ArrowUp":
                    if (playerY - 2 > ballRadius * 2) {
                        playerY -= 2;
                    }
                    break;
                case "ArrowDown":
                    if (playerY + 2 < canvas.height - ballRadius * 2) {
                        playerY += 2;
                    }
                    break;
            }
        });

        AttackBall();
    </script>

    <p>
        게임 소개: 가운데 공을 피해 사과 먹기<br>
        게임 방법: 방향키
    </p>

</body>
</html>
